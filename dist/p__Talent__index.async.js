"use strict";(self.webpackChunkflight_simulator_manage=self.webpackChunkflight_simulator_manage||[]).push([[489],{7878:function(D,B,e){e.r(B),e.d(B,{default:function(){return ae}});var M=e(3447),i=e.n(M),z=e(90887),p=e.n(z),G=e(96592),x=e.n(G),b=e(37066),I=e.n(b),Z=e(25857),V=e(2699),$=e(62518),W=e(19233),F=e(21805),g=e(43998),T=e(49930),K=e(97906),U=e(71298),Y=e(11663),L=e(31923),P=e(91129),d=e(68136),R=e(31890),H=e(42609),S=e(3244),J=e(99163),A=e(50769),Q=e(94011),X=e(97326),w=e(42347),t=e(33130),k=["fieldProps","proFieldProps"],q=function(c,o){var j=c.fieldProps,v=c.proFieldProps,h=(0,X.Z)(c,k);return(0,t.jsx)(w.Z,(0,Q.Z)({ref:o,valueType:"textarea",fieldProps:j,proFieldProps:v},h))},_=d.forwardRef(q),ee=function(c){var o=c.detailData,j=c.visible,v=c.reloadTable,h=c.onOpenChange,m=(0,d.useRef)(),C=(0,d.useState)(!1),y=I()(C,2),l=y[0],a=y[1];(0,d.useEffect)(function(){if(o){var r;(r=m.current)===null||r===void 0||r.setFieldsValue(o)}else{var n;(n=m.current)===null||n===void 0||n.resetFields()}},[o]);var u=(0,d.useCallback)(function(){var r=p()(i()().mark(function n(s){var N,E;return i()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(f.prev=0,a(!0),N=o||{},E=N.id,!E){f.next=8;break}return f.next=6,(0,g.pt)(E,s);case 6:f.next=10;break;case 8:return f.next=10,(0,g.NL)(s);case 10:L.ZP.success(E?"\u7F16\u8F91\u6210\u529F\uFF01":"\u65B0\u589E\u6210\u529F\uFF01"),h(!1),v();case 13:return f.prev=13,a(!1),f.finish(13);case 16:case"end":return f.stop()}},n,null,[[0,,13,16]])}));return function(n){return r.apply(this,arguments)}}(),[h,v,o]);return(0,t.jsxs)(H.Y,{title:o?"\u7F16\u8F91\u5929\u8D4B":"\u65B0\u589E\u5929\u8D4B",open:j,formRef:m,loading:l,onOpenChange:h,onFinish:u,autoFocusFirstInput:!0,layout:"horizontal",children:[(0,t.jsxs)(S.A.Group,{children:[(0,t.jsx)(J.Z,{width:"sm",name:"talentTitle",label:"\u5929\u8D4B\u6807\u9898",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5929\u8D4B\u6807\u9898"}],fieldProps:{maxLength:10}}),(0,t.jsx)(A.Z,{width:"sm",name:"talentLevelCode",label:"\u5929\u8D4B\u7B49\u7EA7",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5929\u8D4B\u7B49\u7EA7"}],request:p()(i()().mark(function r(){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,T.Rf)("talentLevel");case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r)}))}),(0,t.jsx)(A.Z,{width:"sm",name:"raceCode",label:"\u9002\u7528\u79CD\u65CF",request:p()(i()().mark(function r(){return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,T.Rf)("race");case 2:return s.abrupt("return",s.sent);case 3:case"end":return s.stop()}},r)}))})]}),(0,t.jsx)(S.A.Group,{children:(0,t.jsx)(_,{width:"lg",name:"talentDesc",label:"\u5929\u8D4B\u63CF\u8FF0",fieldProps:{maxLength:100,showCount:!0}})}),(0,t.jsx)(R.Z,{label:"\u89E6\u53D1\u6761\u4EF6",name:"talentTriggerList",addBtnText:"\u6DFB\u52A0\u6761\u4EF6",initialValue:[{}]}),(0,t.jsx)(R.Z,{label:"\u5C5E\u6027\u6548\u679C",name:"talentEffectList",addBtnText:"\u6DFB\u52A0\u6548\u679C",initialValue:[{}]})]})},ne=ee,te=function(){var c=(0,d.useReducer)(function(l,a){return x()(x()({},l),a)},W.L6),o=I()(c,2),j=o[0],v=o[1],h=(0,d.useRef)(),m=(0,d.useCallback)(function(){var l;(l=h.current)===null||l===void 0||l.reload()},[]),C=(0,d.useCallback)(function(){var l=p()(i()().mark(function a(u){return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,g.pI)(u);case 2:m(),L.ZP.success("".concat(F.bM[u.type],"\u6210\u529F\uFF01"));case 4:case"end":return n.stop()}},a)}));return function(a){return l.apply(this,arguments)}}(),[m]),y=(0,d.useMemo)(function(){return[{title:"\u5E8F\u53F7",dataIndex:"talentNo",hideInSearch:!0,render:function(a,u,r){return r+1}},{title:"\u5929\u8D4BID",dataIndex:"id",hideInSearch:!0},{title:"\u5929\u8D4B\u6807\u9898",dataIndex:"talentTitle"},{title:"\u5929\u8D4B\u63CF\u8FF0",dataIndex:"talentDesc",hideInSearch:!0},{title:"\u9002\u7528\u79CD\u65CF",dataIndex:"raceCode",valueType:"select",request:function(){var l=p()(i()().mark(function u(){return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,T.Rf)("race");case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},u)}));function a(){return l.apply(this,arguments)}return a}()},{title:"\u5929\u8D4B\u7B49\u7EA7",dataIndex:"talentLevelCode",valueType:"select",request:function(){var l=p()(i()().mark(function u(){return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,T.Rf)("talentLevel");case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},u)}));function a(){return l.apply(this,arguments)}return a}()},{title:"\u5929\u8D4B\u6548\u679C",dataIndex:"talentEffectName",hideInSearch:!0},{title:"\u8054\u52A8\u5267\u60C5",dataIndex:"linkagePlotNames",hideInSearch:!0},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",fixed:"right",render:function(a,u){return[u.status===F.i8.OFFLINE?[(0,t.jsx)(P.ZP,{type:"link",size:"small",onClick:function(){v({visible:!0,detailData:u})},children:"\u7F16\u8F91"},"edit"),(0,t.jsx)(P.ZP,{type:"link",size:"small",onClick:function(){return C({type:F.i8.ONLINE,id:u.id})},children:"\u4E0A\u67B6"},"online")]:(0,t.jsx)(Z.Z,{size:"small",danger:!1,onConfirm:function(){return C({type:F.i8.OFFLINE,id:u.id})},children:"\u4E0B\u67B6"},"offline"),u.status===F.i8.OFFLINE&&(0,t.jsx)(Z.Z,{size:"small",onConfirm:function(){return C({type:F.i8.DELETED,id:u.id})}},"delete")]}}]},[C]);return(0,t.jsxs)(Y._z,{title:"\u5929\u8D4B\u7BA1\u7406",children:[(0,t.jsx)(V.Z,{actionRef:h,rowKey:"id",toolBarRender:function(){return[(0,t.jsx)(P.ZP,{type:"primary",icon:(0,t.jsx)(K.Z,{}),onClick:function(){return v({visible:!0})},children:"\u65B0\u589E\u5929\u8D4B"},"add"),(0,t.jsx)($.Z,{importService:g.Rx,importCallback:m,children:"\u5BFC\u5165\u5929\u8D4B"},"import"),(0,t.jsx)(P.ZP,{icon:(0,t.jsx)(U.Z,{}),onClick:function(){return(0,T.Ww)(e(41695),"\u5929\u8D4B\u6A21\u677F.xlsx")},children:"\u4E0B\u8F7D\u6A21\u677F"},"download")]},querylistReq:g.b4,columns:y}),(0,t.jsx)(ne,x()(x()({},j),{},{reloadTable:m,onOpenChange:function(a){return v(x()({visible:a},a?{}:{detailData:null}))}}))]})},ae=te},41695:function(D,B,e){D.exports=e.p+"static/talent.cd61d785.xlsx"}}]);
